# Azure region code mapping utility
# Sourced from: https://github.com/Azure/terraform-azurerm-caf-enterprise-scale/blob/main/modules/connectivity/locals.geo_codes.tf.json

locals {
  # Full mapping of Azure region names to their short codes
  region_codes = {
    "australiacentral"     = "acl"
    "australia central"    = "acl"
    "australiacentral2"    = "acl2"
    "australia central 2"  = "acl2"
    "australiaeast"        = "ae"
    "australia east"       = "ae"
    "australiasoutheast"   = "ase"
    "australia southeast"  = "ase"
    "brazilsouth"          = "brs"
    "brazil south"         = "brs"
    "brazilus"             = "bru"
    "brazil us"            = "bru"
    "brazilsoutheast"      = "bse"
    "brazil southeast"     = "bse"
    "centraluseuap"        = "ccy"
    "central us euap"      = "ccy"
    "canadacentral"        = "cnc"
    "canada central"       = "cnc"
    "canadaeast"           = "cne"
    "canada east"          = "cne"
    "centralus"            = "cus"
    "central us"           = "cus"
    "eastasia"             = "ea"
    "east asia"            = "ea"
    "eastus2euap"          = "ecy"
    "east us 2 euap"       = "ecy"
    "spaincentral"         = "esc"
    "spain central"        = "esc"
    "eastus"               = "eus"
    "east us"              = "eus"
    "eastus2"              = "eus2"
    "east us 2"            = "eus2"
    "francecentral"        = "frc"
    "france central"       = "frc"
    "francesouth"          = "frs"
    "france south"         = "frs"
    "germanynorth"         = "gn"
    "germany north"        = "gn"
    "germanywestcentral"   = "gwc"
    "germany west central" = "gwc"
    "centralindia"         = "inc"
    "central india"        = "inc"
    "southindia"           = "ins"
    "south india"          = "ins"
    "westindia"            = "inw"
    "west india"           = "inw"
    "israelcentral"        = "ilc"
    "israel central"       = "ilc"
    "italynorth"           = "itn"
    "italy north"          = "itn"
    "japaneast"            = "jpe"
    "japan east"           = "jpe"
    "japanwest"            = "jpw"
    "japan west"           = "jpw"
    "jioindiacentral"      = "jic"
    "jio india central"    = "jic"
    "jioindiawest"         = "jiw"
    "jio india west"       = "jiw"
    "koreacentral"         = "krc"
    "korea central"        = "krc"
    "koreasouth"           = "krs"
    "korea south"          = "krs"
    "mexicocentral"        = "mxc"
    "mexico central"       = "mxc"
    "northcentralus"       = "ncus"
    "north central us"     = "ncus"
    "northeurope"          = "ne"
    "north europe"         = "ne"
    "norwayeast"           = "nwe"
    "norway east"          = "nwe"
    "norwaywest"           = "nww"
    "norway west"          = "nww"
    "newzealandnorth"      = "nzn"
    "new zealand north"    = "nzn"
    "polandcentral"        = "plc"
    "poland central"       = "plc"
    "qatarcentral"         = "qac"
    "qatar central"        = "qac"
    "southafricanorth"     = "san"
    "south africa north"   = "san"
    "southafricawest"      = "saw"
    "south africa west"    = "saw"
    "southcentralus"       = "scus"
    "south central us"     = "scus"
    "swedencentral"        = "sdc"
    "sweden central"       = "sdc"
    "swedensouth"          = "sds"
    "sweden south"         = "sds"
    "southeastasia"        = "sea"
    "southeast asia"       = "sea"
    "switzerlandnorth"     = "szn"
    "switzerland north"    = "szn"
    "switzerlandwest"      = "szw"
    "switzerland west"     = "szw"
    "uaecentral"           = "uac"
    "uae central"          = "uac"
    "uaenorth"             = "uan"
    "uae north"            = "uan"
    "uksouth"              = "uks"
    "uk south"             = "uks"
    "ukwest"               = "ukw"
    "uk west"              = "ukw"
    "westcentralus"        = "wcus"
    "west central us"      = "wcus"
    "westeurope"           = "we"
    "west europe"          = "we"
    "westus"               = "wus"
    "west us"              = "wus"
    "westus2"              = "wus2"
    "west us 2"            = "wus2"
    "westus3"              = "wus3"
    "west us 3"            = "wus3"
    "usdodcentral"         = "udc"
    "usdod central"        = "udc"
    "usdodeast"            = "ude"
    "usdod east"           = "ude"
    "usgovarizona"         = "uga"
    "usgov arizona"        = "uga"
    "usgoviowa"            = "ugi"
    "usgov iowa"           = "ugi"
    "usgovtexas"           = "ugt"
    "usgov texas"          = "ugt"
    "usgovvirginia"        = "ugv"
    "usgov virginia"       = "ugv"
    "usnateast"            = "exe"
    "usnat east"           = "exe"
    "usnatwest"            = "exw"
    "usnat west"           = "exw"
    "usseceast"            = "rxe"
    "ussec east"           = "rxe"
    "ussecwest"            = "rxw"
    "ussec west"           = "rxw"
    "chinanorth"           = "bjb"
    "china north"          = "bjb"
    "chinanorth2"          = "bjb2"
    "china north 2"        = "bjb2"
    "chinanorth3"          = "bjb3"
    "china north 3"        = "bjb3"
    "chinaeast"            = "sha"
    "china east"           = "sha"
    "chinaeast2"           = "sha2"
    "china east 2"         = "sha2"
    "chinaeast3"           = "sha3"
    "china east 3"         = "sha3"
    "germanycentral"       = "gec"
    "germany central"      = "gec"
    "germanynortheast"     = "gne"
    "germany north east"   = "gne"
  }

  # Function to get region code - handles both camelCase and space-separated formats
  get_region_code = {
    for region_name, code in local.region_codes :
    lower(region_name) => code
  }
}
